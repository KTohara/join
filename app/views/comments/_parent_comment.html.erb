<%= turbo_stream_from comment, :comments %>
<div class="pl-5" data-controller="comment-reply">

  <%= render comment, current_user: current_user %>

  <div id="<%= dom_id(comment, :comments) %>">
    <%= render 'comments/form',
      commentable: comment,
      comment: Comment.new,
      data: { comment_reply_target: 'form' },
      class: 'hidden' %>
    <%= render partial: 'comments/parent_comment',
      collection: comment.comments.includes(:commentable),
      as: :comment,
      locals: { current_user: current_user } %>
  </div>
</div>