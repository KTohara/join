<%= turbo_frame_tag :gif_search do %>
  <div class="relative" data-gif-target="gifMenu">
    <div class="fixed bottom-0 left-0 z-10 w-80 h-96 bg-neutral-100 p-2 border-2 rounded-md">
      <p class="text-slate-600 font-medium mb-1">Add GIF</p>
      <div class="flex justify-center items-center">
        <%= form_with url: gifs_path, method: :get, data: { controller: 'search', search_target: 'form', turbo_frame: :gif_results } do |f| %>
          <%= f.hidden_field :form_id, value: @form_id %>
          <%= f.text_field :q, placeholder: 'Search Tenor...', autofocus: true, data: { action: 'search#debounce' }, class: 'form-field w-[300px] rounded-md h-8' %>
        <% end %>
      </div>

      <div class="fixed bottom-0 overflow-y-scroll h-[310px] w-[300px]">
        <%= turbo_frame_tag :gif_results do %>
          <% if @results.present? %>
            <div class="columns-2 p-1">
              <% @results.each do |gif_url| %>
                <div>
                  <button type="button" data-action="gif#insertGif">
                    <%= image_tag gif_url, width: '150px', data: { gif_target: 'image'}, class: 'rounded-md hover:ring-2 ring-orange-500 ease-in duration-75' %>
                  </button>
                </div>
              <% end %>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </div>
<% end %>