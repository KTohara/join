<div class="flex flex-col">
  <% feed.each do |post| %>
    <div class="border mt-2" id=<%= dom_id post %>>
      <%= link_to post.user.username, post.user %>
      <p><%= post.formatted_date %></p>
      <p><%= post.body %></p>
      <hr>
      <span>(PH) React</span>
      <span>Reply</span>
      <span>Delete</span>
      <hr>
      <span><%= pluralize(post.comments.count + post.comments.map(&:comments).count, 'Comment') %></span>
      <%= render 'comments/comments', comments: post.comments.includes([:user, :comments]) %>
      <%= render 'comments/comment_form', commentable: post, comment: Comment.new %>
    </div>
  <% end %>
</div>