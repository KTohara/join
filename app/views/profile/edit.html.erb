<div class="flex justify-between items-center">
  <hr class="border-t-2 border-orange-200 w-full">
  <h1 class="text-center font-light text-2xl tracking-widest text-orange-600 px-5 whitespace-nowrap">
    . profile
  </h1>
  <hr class="border-t-2 border-orange-200 w-full">
</div>

<%= form_with model: @profile, data: { controller: 'form' } do |f| %>
  <div class="flex flex-col gap-y-2 mt-10 py-8 w-full px-[20%] border-2 rounded-md bg-white shadow-md">
    <%= f.text_field :first_name, placeholder: 'First name', class: 'form-field' %>
    <%= f.text_field :last_name, placeholder: 'Last name', class: 'form-field' %>
    <%= f.text_field :location, placeholder: 'Location', class: 'form-field' %>
    <%= f.text_area :bio, placeholder: 'Bio', rows: 3,
      data: { action: 'input->form#resize input->form#isEmpty', form_target: 'input' },
      class: 'form-field' %>
    
    <div class="flex justify-between mt-2">
      <div data-action="click->form#uploadImage" class="btn space-x-1">
        <i class="fa-regular fa-image text-white"></i>
        <span>Set profile image</span>
      </div>
      
      <%= f.file_field :avatar, data: { form_target: 'image', action: 'change->form#preview' }, class: 'hidden', accept: 'image/png, image/jpeg, image/jpg' %>
      <%= f.submit 'Save Profile', data: { form_target: 'submit', turbo: false }, class: 'btn' %>
    </div>

    <p class="text-xs" data-form-target="preview">
      <%= "Image: #{f.object.avatar.filename}" if f.object.avatar.attached? %>
    </p>
  </div>
<% end %>