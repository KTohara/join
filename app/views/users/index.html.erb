<%= turbo_frame_tag :search_people do %>
  <div class="relative" data-controller="dropdown" id="search_users">
    <div class="absolute top-[-22px] left-[-32px] w-[400px] rounded-md" data-dropdown-target="popup">
      <div class="flex flex-col text-slate-600 normal-case tracking-normal gap-4">
        <%= form_with url: users_path, method: :get,
          data: { controller: 'search', turbo_frame: 'users', turbo_action: 'advance', search_target: 'form' },
          class: 'flex gap-4 items-center ml-4' do |f| %>

          <%= link_to cancel_search_path, id: 'turbo_btn', data: { dropdown_target: 'button submit', turbo_stream: 'true' } do %>
            <i class="fa-solid fa-arrow-left w-5 h-5 text-white"></i>
          <% end %>

          <%= f.search_field :q, placeholder: 'Search Users...', autofocus: true, data: { action: 'search#submit' }, class: 'rounded-3xl border-transparent focus:border-transparent focus:ring-0' %>
        <% end %>
        <div class="p-3 rounded-b-md bg-white shadow-md">
          <%= turbo_frame_tag :users do %>
            <% @users.each do |user| %>
              <%= render 'friendships/friend_request', user: user %>
            <% end %>
          <% end %>
        </div>
      </div>
    </div>
  </div>
<% end %>